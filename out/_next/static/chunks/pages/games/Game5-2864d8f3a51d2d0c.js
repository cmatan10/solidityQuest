(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{31935:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game5",function(){return n(42965)}])},42965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(85893),o=n(67294),s=n(45281),l=n(84283),i=n(53637),c=n(39886),a=n(54610),u=n(84082),d=n(49816),f=n(89163),p=n(87261),h=n(74855),m=n(44173);let b=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"success","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_Timestamp","type":"uint256"}],"name":"timeReset","outputs":[],"stateMutability":"nonpayable","type":"function"}]');var y=n(72771);n(18384);var g=n(52802);let j=()=>{let[e,t]=(0,o.useState)(""),[n,j]=(0,o.useState)(""),[x,v]=(0,o.useState)(""),[w,k]=(0,o.useState)(!1),O=(0,o.useRef)(null),{walletAddress:N,factoryContract:T,nftContract:S,web3:C}=(0,o.useContext)(y.S),[_,Z]=(0,o.useState)(null),[P,E]=(0,o.useState)(!1),[R,M]=(0,o.useState)(null),[I,B]=(0,o.useState)("");(0,o.useEffect)(()=>{C&&C.utils.isAddress(n)&&Z(new C.eth.Contract(b,n))},[n,C]),(0,o.useEffect)(()=>{(async()=>{N&&S&&(v(await S.methods.balanceOf(N,5).call()),console.log(x))})()},[N,S,x]),(0,o.useEffect)(()=>{(async()=>{N&&S&&(v(await S.methods.balanceOf(N,5).call()),console.log(x))})()},[N,S,x]);let z=async()=>{try{k(!0);let e=await T.methods.deploy(5).send({from:N}),t=e.events.DeployInstance;t?(j(t.returnValues.Instance),m.Am.success("Game created successfully!")):m.Am.error("Game creation failed.");let n=Number(await C.eth.getBlockNumber());console.log("Block Number:",n),(await T.getPastEvents("DeployInstance",{fromBlock:n-1e3,toBlock:"latest"})).forEach(t=>{e.transactionHash===t.transactionHash&&(j(t.returnValues.Instance),B(e.transactionHash),console.log(e.transactionHash))}),k(!1)}catch(e){k(!1),console.log(e),m.Am.error("Game creation failed. \n      Please make sure:\n-That your Metamask wallet is properly connected.")}},A=async e=>{if(isNaN(e)){alert("Invalid timestamp!");return}if(_)try{await _.methods.timeReset(e).send({from:N}).then(async()=>{if(console.log("The Mission Is Complete"),(0,m.Am)("Well done! You have solved this level!",{autoClose:5e3}),x<1)try{await S.methods.mint(5,n).send({from:N}).once("error",e=>{console.log(e),m.Am.error("Minting failed.")}).once("receipt",async()=>{let e=await S.methods.balanceOf(N,5).call();v(e),console.log(e),m.Am.success("Minting completed successfully!")})}catch(e){console.error(e.message),m.Am.error("Minting failed.")}})}catch(e){console.log(e),m.Am.error("Time reset failed.")}},H=async()=>{let e=await _.methods.success().call();console.log(e),M(e)},D='// SPDX-License-Identifier: MIT\n  pragma solidity 0.8.10;\n  \n  contract Timestamp {\n      uint256 private currentBlockTimestamp;\n      bool public success;\n  \n      constructor() {\n          currentBlockTimestamp = block.timestamp;\n      }\n      function timeReset(uint256 _Timestamp) external {\n          require(currentBlockTimestamp == _Timestamp,"This Is Not The Timestamp");\n          currentBlockTimestamp = 0;\n          success = true;\n      }\n  }';return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{className:"bg-primary-black overflow-hidden",children:[(0,r.jsx)(g.wp,{}),(0,r.jsx)("h1",{className:"game-title title-color",children:(0,r.jsx)("b",{children:"Timestamp"})}),(0,r.jsx)(c.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,r.jsx)(a.Z,{children:(0,r.jsxs)("div",{className:"code-section",children:[(0,r.jsx)(h.CopyToClipboard,{text:D,children:(0,r.jsx)(u.Z,{className:"button-copy",children:"Copy code"})}),(0,r.jsx)(s.Z,{language:"javascript",style:l.Vg,ref:O,children:D})]})})}),(0,r.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white"},children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(d.Z,{className:"desc-title title-color",children:(0,r.jsx)("b",{children:"Game Description"})}),(0,r.jsxs)("p",{children:[(0,r.jsx)("b",{children:"Engage with Solidity's block.timestamp. Understand and ensure perfect synchronization."}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsxs)("b",{children:[(0,r.jsx)("strong",{children:" You need:"}),"  To complete this puzzle, you need to understand how block.timestamp works in Solidity and how to access it. "]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(u.Z,{style:{backgroundColor:"#c97539",color:"white"},className:"button-margin",onClick:z,children:"Create Instance"})})]})}),!w&&""!==n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",minHeight:"150px"},children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(d.Z,{className:"desc-title title-color",children:(0,r.jsx)("b",{children:"State Variables"})}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(u.Z,{style:{backgroundColor:"#355f7d",color:"white"},className:"mt-1",onClick:()=>H(),children:"success"}),null!==R&&(0,r.jsx)("p",{style:{marginLeft:"10px",marginTop:"12px"},children:R.toString()})]}),(0,r.jsx)("br",{}),(0,r.jsx)(u.Z,{style:{backgroundColor:"#355f7d",color:"white"},className:"mt-1",onClick:()=>{E(!P)},children:P?"Hide Hint":"Show Hint"}),P&&(0,r.jsx)(c.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(d.Z,{className:"desc-title title-color",children:(0,r.jsx)("b",{children:"Hint"})}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[(0,r.jsxs)("p",{style:{wordBreak:"break-all"},children:[' You will find the block number in the block explorer by this hash: "',I,'".']}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{style:{wordBreak:"break-all"},children:"Then use this function:"}),(0,r.jsx)("a",{style:{textDecoration:"underline"},href:"https://web3js.readthedocs.io/en/v1.2.11/web3-eth.html?highlight=getBlock#getblock",target:"_blank",rel:"noopener noreferrer",children:" https://web3js.readthedocs.io/en/v1.2.11/web3-eth.html?highlight=getBlock#getblock"})]}),"."]})]})})]})}),(0,r.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white"},children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)("h3",{className:"desc-title title-color",children:(0,r.jsx)("b",{children:"Your Test Address:"})}),(0,r.jsxs)("p",{style:{wordBreak:"break-all"},className:"Instance-color",children:[" ",n," "]}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(p.Z,{style:{color:"black"},className:"form-control-alternative",id:"input-city",placeholder:"_Timestamp",type:"text",onChange:e=>t(e.target.value)})}),(0,r.jsx)(u.Z,{style:{backgroundColor:"#c97539",color:"white"},className:"mt-1",onClick:()=>A(e),children:"timeReset"})]})})]}),(0,r.jsx)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:x<1?null:(0,r.jsxs)("div",{children:[(0,r.jsxs)("strong",{children:["Congratulations! You Got A Badge"," ",(0,r.jsx)("i",{className:"fas fa-medal",style:{color:"gold",fontSize:"20px",position:"relative",top:"3px"}})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})})]}),(0,r.jsx)(m.Ix,{})]})}},89163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n(45697),s=n.n(o),l=n(93967),i=n.n(l),c=n(22040),a=["className","cssModule","row","disabled","check","inline","floating","noMargin","tag","switch"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d={children:s().node,row:s().bool,check:s().bool,switch:s().bool,inline:s().bool,floating:s().bool,noMargin:s().bool,disabled:s().bool,tag:c.iC,className:s().string,cssModule:s().object};function f(e){var t=e.className,n=e.cssModule,o=e.row,s=e.disabled,l=e.check,d=e.inline,f=e.floating,p=e.noMargin,h=e.tag,m=void 0===h?"div":h,b=e.switch,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a),g=l||b,j=(0,c.mx)(i()(t,!!o&&"row",!!g&&"form-check",!!b&&"form-switch",!g&&!p&&"mb-3",!!g&&!!d&&"form-check-inline",!!g&&!!s&&"disabled",f&&"form-floating"),n);return"fieldset"===m&&(y.disabled=s),r.createElement(m,u({},y,{className:j}))}f.propTypes=d;let p=f},87261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(67294),o=n(45697),s=n.n(o),l=n(93967),i=n.n(l),c=n(22040);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m={children:s().node,type:s().string,size:s().oneOfType([s().number,s().string]),bsSize:s().string,valid:s().bool,invalid:s().bool,tag:c.iC,innerRef:s().oneOfType([s().object,s().func,s().string]),plaintext:s().bool,addon:s().bool,className:s().string,cssModule:s().object},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(s);return e=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function s(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).getRef=t.getRef.bind(p(t)),t.focus=t.focus.bind(p(t)),t}return n=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,o=e.type,s=void 0===o?"text":o,l=e.bsSize,a=e.valid,f=e.invalid,p=e.tag,h=e.addon,m=e.plaintext,b=e.innerRef,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u),g=["switch","radio","checkbox"].indexOf(s)>-1,j="textarea"===s,x="select"===s,v="range"===s,w=p||(x||j?s:"input"),k="form-control";m?(k="".concat(k,"-plaintext"),w=p||"input"):v?k="form-range":x?k="form-select":g&&(k=h?null:"form-check-input"),y.size&&/\D/g.test(y.size)&&((0,c.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),l=y.size,delete y.size);var O=(0,c.mx)(i()(t,f&&"is-invalid",a&&"is-valid",!!l&&(x?"form-select-".concat(l):"form-control-".concat(l)),k),n);return("input"===w||p&&"function"==typeof p)&&(y.type="switch"===s?"checkbox":s),y.children&&!(m||"select"===s||"string"!=typeof w||"select"===w)&&((0,c.O4)('Input with a type of "'.concat(s,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete y.children),r.createElement(w,d({},y,{ref:b,className:O,"aria-invalid":f}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component);b.propTypes=m;let y=b}},e=>{var t=t=>e(e.s=t);e.O(0,[817,956,802,888,774,179],()=>t(31935)),_N_E=e.O()}]);