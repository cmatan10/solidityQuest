(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{56177:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game2",function(){return l(63360)}])},63360:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>j});var s=l(85893),n=l(67294),a=l(45281),o=l(84283),r=l(53637),c=l(39886),i=l(54610),d=l(84082),h=l(49816),u=l(74855),m=l(44173);let x=JSON.parse('[{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"fixMe","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]');var f=l(72771);l(18384);var b=l(52802);let j=()=>{let[e,t]=(0,n.useState)(""),[l,j]=(0,n.useState)(""),[g,y]=(0,n.useState)(!1),p=(0,n.useRef)(null),{walletAddress:w,factoryContract:k,nftContract:C,web3:v}=(0,n.useContext)(f.S),[N,Z]=(0,n.useState)(null),[S,M]=(0,n.useState)(!1),[_,I]=(0,n.useState)(!1),[A,T]=(0,n.useState)(!1);(0,n.useEffect)(()=>{v&&v.utils.isAddress(e)&&Z(new v.eth.Contract(x,e))},[e,v]),(0,n.useEffect)(()=>{(async()=>{w&&C&&(j(await C.methods.balanceOf(w,2).call()),console.log(l))})()},[w,C,l]);let E=async()=>{try{y(!0);let e=(await k.methods.deploy(2).send({from:w})).events.DeployInstance;e?(t(e.returnValues.Instance),m.Am.success("Game created successfully!")):m.Am.error("Game creation failed."),y(!1)}catch(e){y(!1),console.log(e),m.Am.error("Game creation failed. \n      Please make sure:\n-That your Metamask wallet is properly connected.")}},D=async()=>{let t=await N.methods.fixMe().call();if(console.log(t),I(t),!0===t&&(console.log("The Mission Is Complete"),(0,m.Am)("Well done! You have solved this level!",{autoClose:5e3}),l<1))try{await C.methods.mint(2,e).send({from:w}).once("error",e=>{console.log(e),m.Am.error("Minting failed.")}).once("receipt",async()=>{let e=await C.methods.balanceOf(w,2).call();j(e),console.log(e),m.Am.success("Minting completed successfully!")})}catch(e){console.error(e.message),m.Am.error("Minting failed.")}},G=async()=>{T(!0);let e=await N.methods.fixMe().call();console.log(e),I(e)},H="// SPDX-License-Identifier: MIT\n    pragma solidity ^0.8.10;\n    \n    contract Fallback {\n        uint8 num = 0;\n        \n        function fixMe() external view returns (bool) {\n            return num == 1;\n        }\n    \n        fallback() external {\n            num = 1;\n        }\n    }";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Z,{className:"bg-primary-black overflow-hidden",children:[(0,s.jsx)(b.wp,{}),(0,s.jsx)("h1",{className:"game-title title-color",children:(0,s.jsx)("b",{children:"Fallback"})}),(0,s.jsx)(c.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,s.jsx)(i.Z,{children:(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(u.CopyToClipboard,{text:H,children:(0,s.jsx)(d.Z,{className:"button-copy",children:"Copy code"})}),(0,s.jsx)(a.Z,{language:"javascript",style:o.Vg,ref:p,children:H})]})})}),(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(h.Z,{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Game Description"})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Delve into Solidity's fallback intricacies. Discover its mechanics and maximize its potential. "}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsxs)("b",{children:[(0,s.jsx)("strong",{children:" You need:"}),"  To complete this mission, you need to understand how Solidity's fallback function works, when it's triggered, and how to activate it. "]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(d.Z,{style:{backgroundColor:"#c97539",color:"white"},className:"button",onClick:E,children:"Create Instance"})})]})}),!g&&""!==e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"card",style:{backgroundColor:"#000000",color:"white",minHeight:"150px"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(h.Z,{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"State Variables & Call Functions"})}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(d.Z,{style:{backgroundColor:"#355f7d",color:"white"},className:"button",onClick:G,children:"fixMe"}),A&&null!==_&&(0,s.jsx)("p",{style:{marginLeft:"10px"},children:_.toString()})]}),(0,s.jsx)("br",{}),(0,s.jsx)(d.Z,{style:{backgroundColor:"#355f7d",color:"white"},className:"button",onClick:()=>{M(!S)},children:S?"Hide Hint":"Show Hint"}),S&&(0,s.jsx)(c.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(h.Z,{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Hint"})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Interact with the contract using Remix, and remember that the fallback function is executed on a call to the contract if none of the other functions match the given function signature or if no data was supplied at all and there is no receive Ether function. The fallback function always receives data, but in order to also receive Ether it must be marked payable. You Can Read More"})," ",(0,s.jsx)("a",{style:{textDecoration:"underline"},href:"https://docs.soliditylang.org/en/v0.8.10/contracts.html?highlight=fallback#fallback-function",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)("strong",{children:"Here"})}),"."]})]})})]})}),(0,s.jsx)(c.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)("h3",{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Your Test Address:"})}),(0,s.jsxs)("p",{style:{wordBreak:"break-all"},className:"Instance-color",children:[" ",e," "]}),(0,s.jsx)(d.Z,{style:{backgroundColor:"#c97539",color:"white"},className:"button",onClick:D,children:"Submit"})]})})]}),(0,s.jsx)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:l<1?null:(0,s.jsxs)("div",{children:[(0,s.jsxs)("strong",{children:["Congratulations! You Got A Badge"," ",(0,s.jsx)("i",{className:"fas fa-medal",style:{color:"gold",fontSize:"20px",position:"relative",top:"3px"}})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})})]}),(0,s.jsx)(m.Ix,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[817,956,802,888,774,179],()=>t(56177)),_N_E=e.O()}]);